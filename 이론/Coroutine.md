## 코루틴
- 동시성 프로그래밍 개념

+ 코루틴에서의 스레드 
    - 코루틴이 실행되는 공간을 제공하는 역할
    - 실행중인 스레드를 중단시키지 ㅏ않기 떼문에 하나의 스레드에 여러개의 코루틴이 존해할 수 있음

    <img src="https://ifh.cc/g/RHlTs9.png">

* 코루틴 1이 작업을 하는 도중에 코루틴 2로 코드를 넘겨도 코루틴 1만 잠시 멈출뿐, 공간을 제공한 스레드는 계속 움직임
* 해당 구조를 스레드를 이용해 처리하면 1번스레드가 잠시 멈추고 2번 스레드가 처리하도록 우선순위를 넘겨야만 가능 
* 이러한 스레드간의 전환(Context Switching) 이 자주 일어나면 성능 저하 발생.
&nbsp;
&nbsp;

<img src="https://ifh.cc/g/yX7h9H.png" >
* 코루틴은 해당 이미지 처럼 컨텍스트 스위칭을 하나의 스레드에서 처리하므로 성능 저하가 적고, 동일한 구조에서는 스레드보다 훨씬 적은 자원 소모

+ 코루틴 스코프
    - 정해진 스코프안에서 실행됨

+ 글로벌 스코프 : 앱의 생명 주기와 함께 동작하기 때문에 앱이 실행되는 동안 별도의 생명 주기 관리가 필요하지 않음.
    앱의 시작부터 종료될때 까지 실행되어야하는 코루틴이 있다면 GlobalScope를 사용
+ 코루틴 스코프 : 버튼을 클릭해서 서버의 정보를 가져오거나 파일을 여는 용도 -> 필요할때만 열고 완료되면 닫는 CoroutineScope 사용

+ Dispatcher 종류
<img src = "https://ifh.cc/g/oFmLsq.png">

+ Launch 와 상태관리
    - launch -> 상태를 관리 가능 . 호출하는것만으로 코루틴을 생성 가능하고 반환되는 job을 변수에 저장해두고 상태 관리용으로 사용 가능
    - async -> 상태를 관리하고 연산 결과까지 반환받기 가능 
    - 생성된 코루틴에서 상태 관리 메서드를 호출하면 코루틴의 실행을 멈추거나 동작을 지연시킬 수 있음

+ cancel
    - 코루틴의 동작을 멈추는 상태 관리 메서드, 하나의 스코프 안에 여러개의 코루틴이 있으면 하위의 코루틴도 모두 동작을 멈춤

+ join
    - launch 블록 끝에 join() 메소드를 사용하면 각각의 코루틴이 순차적으로 실행됨

+ async & 반환값 처리
    - async 는 코루틴 스코프의 연산결과를 받아서 사용할 수 있음

+ suspend
    - 코루틴 안에서 suspend 키워드로 선언된 함수가 호출되면 이전가지의 코드 실행이 멈추고, suspend 함수의 처리가 완료된 후에 멈춰있던 원래 스코프의 다음 코드가
    실행됨

+ withContext로 디스패처 분리
    - 코루틴은 Main 디스패처에서 UI를 제어해야하는데, 호출되는 suspend 함수는 디스크에서 파일을 읽어와야 하는 경우!
    - withContext를 사용해 호출되는 suspend 함수의 디스패처를 IO로 변경할 수 있음.